{% extends 'base.html' %}
{% load static %}
{% block title %}產品系列 - 宏農·手工之家{% endblock %}

{% block content %}

<div class="relative z-30 bg-[#fdf8f2]/95 backdrop-blur-sm border-[#d4bcb0]/30 transition-all duration-300" style="margin: 20px 0;">
    <div class="container mx-auto px-4">
        <div class="block 2xl:hidden">
            {% include 'components/mobile-category-selector.html' %}
        </div>
    </div>
</div>
<section class="min-h-screen py-12 pb-32">
    <div class="container mx-auto px-4 md:px-8">
        
        <div class="relative mb-12 flex flex-col md:block">
            
            <div class="hidden 2xl:block absolute top-0 left-0 z-30">
                {% include 'components/category-dropdown.html' %}
            </div>

            <div class="text-center w-full">
                <div class="flex items-center justify-center gap-4 mb-3 opacity-80">
                    <span class="w-12 md:w-20 h-[2px] bg-[#8c6a56]"></span>
                    <h2 class="text-4xl font-bold text-primary">
                        <span class="font-bold inline-block pb-2 text-[#a97659]">
                            {% if request.GET.category %}
                                {% for category in categories %}
                                    {% if request.GET.category|stringformat:"s" == category.id|stringformat:"s" %}
                                        {{ category.name }}
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                                所有產品
                            {% endif %}
                        </span>
                    </h2>
                    <span class="w-12 md:w-20 h-[2px] bg-[#8c6a56]"></span>
                </div>
                

            </div>
        </div>

        <div class="grid grid-cols-2 2xl:grid-cols-4 gap-4 md:gap-8 max-w-[1600px] mx-auto mb-16">
            {% for product in products %}
                {% include 'includes/product-card.html' with product=product %}
            {% empty %}
                <div class="col-span-full text-center py-20 bg-white/50 rounded-xl border-2 border-dashed border-[#d4bcb0]">
                    <div class="flex flex-col items-center gap-4">
                        <svg class="w-16 h-16 text-[#d4bcb0]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                        </svg>
                        <p class="text-xl text-[#7b6a63]/80 font-medium">此分類暫無商品</p>
                        <a href="{% url 'product' %}" class="mt-2 text-[#a97659] hover:underline hover:text-[#7b6a63] transition-colors">
                            查看所有產品 &rarr;
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="flex justify-center" style="margin-top: 30px;">
            <a href="{% url 'order' %}" id="cart-action-btn" class="hidden items-center gap-3 bg-[#d4bcb0] hover:bg-[#7b6a63] text-white px-10 py-3 transition-all duration-300 shadow-md border-2 border-white outline outline-2 outline-[#d4bcb0] hover:outline-[#7b6a63] group">
                <div class="bg-white rounded-full p-1.5 text-[#d4bcb0] group-hover:text-[#7b6a63] transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                </div>
                <span class="font-bold tracking-widest text-lg">前往購物車</span>
            </a>
        </div>

    </div>
</section>
<section class="w-full bg-[#f3e5dc] py-16 md:py-24">
    <div class="container mx-auto px-4 md:px-8">
        <div class="flex flex-col gap-8 items-start">
            
            <div class="w-full">
                <h2 class="text-4xl font-bold mb-12 text-primary relative">
                    <span class="inline-block pb-2 border-b-4 border-[#a67051] text-[#a97659]">運送/保存方式</span>
                </h2>
            </div>
            <div class="w-full space-y-4 text-[#7b6a63] text-2xl leading-relaxed tracking-wide font-medium" style="margin-top: -40px;">
                全店商品採用黑貓低溫冷凍宅配，確保商品新鮮送達。<br>
                保存期限：冷凍保存 30 天，冷藏建議 3 天內食用完畢。<br>
                加熱方式：電鍋蒸熱約 10-15 分鐘即可享用，口感最佳。<br>
                手工製作，無添加防腐劑，請安心食用。<br>
            </div>
        </div>
    </div>
</section>
{% include 'includes/product-modal.html' %}
<script src="{% static 'js/modal-interaction.js' %}"></script>

<style>
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
</style>

{% endblock %}
}